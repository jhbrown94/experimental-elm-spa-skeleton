<!DOCTYPE HTML>
<html>
<meta name="viewport" content="initial-scale=1.0">
<head>
  <meta charset="UTF-8">
  <title>Experimental Elm Skeleton</title>
    <script src="main.js"></script>
</head>

<body>
  <div id="elm"></div>
  <script>

	var app = Elm.Main.init({
		node: document.getElementById('elm'),
		flags: {authToken: JSON.parse(localStorage.getItem('authToken'))}
	});


	app.ports.clearToken.subscribe(function() {
		localStorage.removeItem('authToken');
	});

	app.ports.storeToken.subscribe(function(token) {
	 	localStorage.setItem('authToken', JSON.stringify(token));
	});
  </script>
</body>
</html>
